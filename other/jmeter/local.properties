## JMX stress test for BBData API
#
# Usage:
#   jmeter -n -t BBData*.jmx -p some-file.properties -j out-file.jtl -l log-file.log
#   jmeter -g out-file.jtl -o stress-test-report
# Then, open stress-test-report/index.html
#

## 
# server properties
##

protocol=http
host=localhost
port=8080

##
# thread group properties
##

# number of threads... (use 0 to disable thread group)
# ...for POST /objects/values
threads_input=4
# ...for GET /info
threads_about=2
# ...for GET /objects/{id}/latest
threads_get_latest=4

# time between each request, in seconds
period=0.1
# duration of the test, in seconds
duration=180

##
# POST /objects/values properties
##

# The value sent is the same during the whole test.
# The object_id and tokens are generated by the script. Here is the gist:
# object_id = thread_idx (starting at 1) + id_inc
# token = token_start if token.length == 32 else token_start + (token_pad + object_id) trimmed as needed

# increment to add to the thread ID to generate the object_id
id_inc=0
# beginning of the token (fixed)
token_start=012345678901234567890123456789
# padding: repeated n times between token_start and object_id so that the total length of the token is 32
token_pad=a
# value to send in the body
value=1

##
# GET /objects/{id}/latest properties
##
# object_id will be computed as for /objects/values, using thread id and id_inc

# bbuser to use, should have access to the object ids
bbuser=1
# apikey to use
bbtoken=wr1





